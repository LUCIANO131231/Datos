<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>Buscar nombres y apellidos por RUC 10 - DNI Per√∫</title>
    <meta content="Consultar los datos con el RUC 10 de recibos por honorarios, datos validados por Reniec y Sunat" name="description">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <link rel="stylesheet" type="text/css" href="../2020/amp-spectre/spectre.min4290.css?v=25">
    <link rel="stylesheet" type="text/css" href="../2020/css/add-css4290.css?v=25">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.dataTables.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.print.min.js"></script>
</head>

<body>

<header class="bg-primary">
    <div class="navbar container">
        <div class="navbar-section">
            <a href="../index.html" class="navbar-brand mr-2" title="Inicio de buscador">
            <h1><img alt="Buscar DNI" src="../2020/img/el-dni-logo.svg"></h1>
            </a>
        </div>
        <nav class="nav-menu col-6 col-md-12">
            <ul class="tab tab-block ">
                <li class="tab-item">
                    <a href="buscar-datos-por-dni.html">Buscar Datos por DNI</a>
                </li>
                <li class="tab-item">
                    <a href="buscar-por-nombres.html">Buscar DNI por Nombres</a>
                </li>
            </ul>
        </nav>
        <div class="btn-noticias">
            <a href="../index.html" class="btn" target="_blank"><span>Consultas</span> <img alt="Flecha Derecha" src="../2020/img/forward.svg"></a>
        </div>
    </div>
</header>

<main class="container container-padding clearfix">
    <div id="div-left"><br></br>
        <section class="columns" id="dni-nombres">

            <div id="column-left" class="column column-np">
                <div class="column column-np col-12">
                    <div class="card text-center">
                        <div class="card-header"><img src="../2020/img/dni-to-name.svg" width="160"></div>
                        <div class="card-body">
                            <h3>Buscar por RUC 10</h3>
                            <div class="small">
                            <small>Escribe un RUC 10 para mostrar sus nombres</small>
                            </div>
                        </div>
                        <form autocomplete="on" id="buscar-por-ruc10" method="post" enctype="multipart/form-data" onsubmit="disableButton('#btn-buscar-por-ruc10')">
                            <div class="form-group" id="input-min">
                            <input class="form-input" type="text" name="ruc10" id="ruc" placeholder="RUC 10">
                            </div>
                            <div class="form-group">
                            <button type="submit" class="btn btn-success" id="btn-buscar-por-ruc10" form="buscar-por-ruc10">Buscar nombres</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div id="column-center" class="column column-np">
                <div class="column col-md-12">
                    <div class="col-md-12 mt-3 mx-auto" id="tabla-background">
                        <table id="tabla_ruc10" class="table"  >
                            <thead class="table-light">
                                <tr>
                                    <th>RUC</th>
                                    <th>Razon Social</th>
                                    <th>Condicion</th>
                                    <th>Tipo</th>
                                    <th>Fecha Inscripci√≥n</th>
                                    <th>Estado</th>
                                    <th>Accion</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="column-center" class="column column-np">
                <div id="div-right">
                    <div id="news_sidebar">
                        <div class="news-header">
                            <h3>üîç Consultas</h3> <sup class="label label-success">Nuevo</sup>
                        </div>
                        <ul>
                            <li>
                                <a href="buscar-datos-por-dni.html">üîç Buscar Datos por DNI</a>
                            </li>
                            <li>
                                <a href="buscar-por-dni.html">üìú Buscar nombres y apellidos por DNI</a>
                            </li>
                            <li>
                                <a href="obtener-digito-verificador-del-dni.html">üî¢ Obtener d√≠gito de verificaci√≥n del DNI</a>
                            </li>
                            <li>
                                <a href="consultar-ruc-10-por-dni.html">üì¢ Obtener RUC 10 por DNI</a>
                            </li>
                            <li>
                                <a href="buscar-nombres-por-ruc-10.html">üìá Buscar nombres y apellidos por RUC 10</a>
                            </li>
                        </ul>
                     </div>
                </div>
            </div>
        </section>
    </div>

</main>

<footer class="bg-primary">
    <div class="container">
        <div class="columns">
            <div class="column col-6 col-mx-auto text-center">Eldni.com ¬© 2018-2023</div>
        </div>
    </div>
</footer>

<script>
    function clearInput(_this) {
        _this.parentElement.getElementsByTagName('input')[0].value = "";
        _this.parentElement.getElementsByTagName('input')[0].focus()
        _this.style.display = "none";
    }

    $(document).ready(function () {
        var tablaRUC = $('#tabla_ruc10').DataTable({
        dom: 'Bfrtip',
        buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
        });
        $('#buscar-por-ruc10').submit(function (e) {
            e.preventDefault(); // Prevenir el env√≠o del formulario
            var ruc = $('#ruc').val();
            $.ajax({
                url: '../consulta/ruc.php',
                type: 'post',
                data: {ruc: ruc}, // Env√≠a los datos como objeto
                dataType: 'json',
                success: function (r) {
                    if (r.id == ruc) {
                        tablaRUC.row.add([
                            r.id,
                            r.razon_social,
                            r.condicion,
                            r.tipo,
                            r.fecha_inscripcion.substring(0,10),
                            r.estado,
                            "<button class='btn btn-outline-danger' id='eliminar-btn' data-ruc='" + r.id + "'>Eliminar</button>"
                        ]).draw();
                        $('#ruc').val('');
                    } else {
                        alert('RUC no encontrado');
                    }
                }
            });
        });
        $(document).on('click', '#eliminar-btn', function () {
        var rucAEliminar = $(this).data('ruc');
        tablaRUC.row($('#eliminar-btn[data-ruc="' + rucAEliminar + '"]').closest('tr')).remove();
        tablaRUC.draw();
        });
    });
</script>

</body>
</html>
